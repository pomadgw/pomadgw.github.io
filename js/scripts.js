function putToStack(e,t){for($l=t.contents(),i=0;i<$l.length;i++)e.push($($l[i]))}function undefined_(e){return"undefined"==typeof e}function addLabel(){$("pre[data-title]").each(function(){$code=$(this).find("code");var e=$(this).attr("data-title");$title_name=e,$(this).attr("data-download")&&"true"==$(this).attr("data-download")&&($a=$("<a/>",{download:e,href:"#download="+e}),$a.click(function(t){t.preventDefault(),text=$code.text();var n=new Blob([text],{type:"application/octet-stream;charset=utf-8"});saveAs(n,e)}),$a.text(e),$title_name=$a),$pre=$(this)[0].outerHTML,$figure=$("<figure/>",{"class":"figure-code"}),$figcap=$("<figcaption/>").append($title_name),$figure.append($pre),$figure.append($figcap),$(this).replaceWith($figure)})}function addLineNumber(e){e.each(function(t){for(e=$(this),$parent=$(this).parent(),data=e.text(),line_num=data.split("\n").length,$table=$("<table/>",{"class":"table-code"}),$tr=$("<tr/>"),$line_num_col=$("<td/>",{"class":"line-num"}),$code_col=$("<td/>",{"class":"code"}),$code_col.append(e),line_content="",t=1;t<=line_num-1;t++)line_content+=t,t<line_num-1&&(line_content+="\n");$line_num_col.text(line_content),$tr.append($line_num_col),$tr.append($code_col),$table.append($tr),$parent.empty(),$parent.append($table)})}$(document).ready(function(){addEventListener("load",function(){$("pre code").each(function(e){var t=this,n=$(t).parent().attr("class").split(/\s+/),a=self.hljs.listLanguages();for(lang="",e=0;e<n.length;e++){if(n[e].match(/(?:lang|language)-.+/)){lang=n[e].replace(/^(?:lang|language)-/,"");break}if(-1!=$.inArray(n[e],a)){lang=n[e];break}}var i=new Worker("/js/worker.js");i.onmessage=function(e){t.innerHTML=e.data,-1!=$.inArray("with-line-num",n)&&addLineNumber($(t))},i.postMessage({lang:lang,code:t.textContent})})}),addLabel(),$(".MJXc-display").each(function(){console.log("!!!"),$maths=$(this),$div=$("<div>",{"class":"math-display"}),$div.append($maths),$(this).replaceWith($div)})});