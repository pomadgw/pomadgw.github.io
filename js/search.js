function escapeHtml(e){return String(e).replace(/[&<>"'\/]/g,function(e){return entityMap[e]})}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," ")).replace(/(<([^>]+?)>)/gi,"")}function display_search_results(e,t){var n=$("#search_results");return t?(document.title='Search results for "'+t+'"',$("#search_box").val(t),$("#search-header").text('Search result for "'+t+'"'),void window.data.then(function(t){e.length?(n.empty(),e.forEach(function(e){var a=t[e.ref];$text=$("<li>"),$link=$("<a>",{href:a.url}),$link.text(a.title),$text.append($link),n.append($text)})):n.html("<li>No results found</li>")})):void(document.title="Search")}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};$(document).ready(function(){window.idx=lunr(function(){this.field("id"),this.field("title",{boost:10}),this.field("text"),this.field("categories")}),window.data=$.getJSON("/search_data.json"),window.data.then(function(e){$.each(e,function(e,t){window.idx.add($.extend({id:e},t))});var t=getParameterByName("q"),n=window.idx.search(t);display_search_results(n,t)})});